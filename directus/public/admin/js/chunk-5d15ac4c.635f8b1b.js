(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d15ac4c"],{1029:function(t,e,i){},"281c":function(t,e,i){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e?1e3:1024;if(!1===Boolean(t))return"--";if(Math.abs(t)<i)return"".concat(t," B");var n=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1,s=t;do{s/=i,r+=1}while(Math.abs(s)>=i&&r<n.length-1);return"".concat(s.toFixed(1)," ").concat(n[r])}i.d(e,"a",function(){return n})},"8db2":function(t,e){t.exports={props:{id:{type:String,required:!0},name:{type:String,required:!0},value:{type:null,default:null},type:{type:String,required:!0},length:{type:[String,Number],default:null},readonly:{type:Boolean,default:!1},collection:{type:String,default:null},required:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},newItem:{type:Boolean,default:!1},relation:{type:Object,default:null},fields:{type:Object,default:null},values:{type:Object,default:null}}}},d316:function(t,e,i){"use strict";var n=i("1029"),r=i.n(n);r.a},dea2:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-single-file"},[t.value?i("v-card",{staticClass:"card",attrs:{title:t.image.title,subtitle:t.subtitle+t.subtitleExtra,src:t.src,icon:t.icon,href:t.href,options:{deselect:{text:t.$t("deselect"),icon:"clear"},remove:{text:t.$t("delete"),icon:"delete"}},"big-image":""},on:{deselect:function(e){return t.$emit("input",null)},remove:t.removeFile}}):i("v-upload",{staticClass:"uploader",attrs:{small:"",disabled:t.readonly,accept:t.options.accept,multiple:!1},on:{upload:t.saveUpload}}),i("v-button",{attrs:{type:"button",disabled:t.readonly},on:{click:function(e){t.newFile=!0}}},[i("v-icon",{attrs:{name:"add"}}),t._v("\n    "+t._s(t.$t("new_file"))+"\n  ")],1),i("v-button",{attrs:{type:"button",disabled:t.readonly},on:{click:function(e){t.existing=!0}}},[i("v-icon",{attrs:{name:"playlist_add"}}),t._v("\n    "+t._s(t.$t("existing"))+"\n  ")],1),t.newFile?i("portal",{attrs:{to:"modal"}},[i("v-modal",{attrs:{title:t.$t("file_upload"),buttons:{done:{text:t.$t("done")}}},on:{close:function(e){t.newFile=!1}}},[i("div",{staticClass:"body"},[i("v-upload",{attrs:{accept:t.options.accept,multiple:!1},on:{upload:t.saveUpload}})],1)])],1):t._e(),t.existing?i("portal",{attrs:{to:"modal"}},[i("v-modal",{attrs:{title:t.$t("choose_one"),buttons:{done:{text:t.$t("done")}},"action-required":""},on:{close:function(e){t.existing=!1},done:function(e){t.existing=!1}}},[i("div",{staticClass:"content"},[i("div",{staticClass:"search"},[i("v-input",{staticClass:"search-input",attrs:{type:"search",placeholder:t.$t("search")},on:{input:t.onSearchInput}})],1),i("v-items",{staticClass:"items",attrs:{collection:"directus_files","view-type":t.viewType,selection:t.value?[t.value]:[],filters:t.filters,"view-query":t.viewQuery,"view-options":t.viewOptions},on:{options:t.setViewOptions,query:t.setViewQuery,select:t.saveSelection}})],1)])],1):t._e()],1)},r=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("96cf"),i("3b8d")),a=i("75fc"),o=i("bd86"),l=(i("f559"),i("28a5"),i("8db2")),c=i.n(l),u=i("281c"),p=i("fe76");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(i,!0).forEach(function(e){Object(o["a"])(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var h={mixins:[c.a],data:function(){return{newFile:!1,existing:!1,viewOptionsOverride:{},viewTypeOverride:null,viewQueryOverride:{},filtersOverride:[],image:_.cloneDeep(this.value)}},computed:{subtitle:function(){return this.image?this.image.filename.split(".").pop()+" • "+this.$d(new Date(this.image.uploaded_on),"short"):""},subtitleExtra:function(){return this.image.type&&this.image.type.startsWith("image")?" • "+this.image.width+" x "+this.image.height+" ("+Object(u["a"])(this.image.filesize)+")":null},src:function(){return this.image.type&&this.image.type.startsWith("image")?this.image.data.full_url:null},icon:function(){return this.image.type&&!this.image.type.startsWith("image")?Object(p["a"])(this.image.type):null},href:function(){return this.image.type&&"application/pdf"===this.image.type?this.image.data.full_url:null},viewOptions:function(){var t=this.options.viewOptions;return f({},t,{},this.viewOptionsOverride)},viewType:function(){return this.viewTypeOverride?this.viewTypeOverride:this.options.viewType},viewQuery:function(){var t=this.options.viewQuery;return f({},t,{},this.viewQueryOverride)},filters:function(){return[].concat(Object(a["a"])(this.options.filters),Object(a["a"])(this.fileTypeFilters),Object(a["a"])(this.filtersOverride))},fileTypeFilters:function(){return!this.options.accept||this.filtersOverride.length>0||this.options.filters.some(function(t){return"type"===t.field})?[]:[{field:"type",operator:"in",value:(this.options.accept||"").trim().split(/,\s*/)}]}},created:function(){this.onSearchInput=_.debounce(this.onSearchInput,200)},methods:{saveUpload:function(t){this.image=t.data,this.$emit("input",{id:t.data.id}),this.newFile=!1},setViewOptions:function(t){this.viewOptionsOverride=f({},this.viewOptionsOverride,{},t)},setViewQuery:function(t){this.viewQueryOverride=f({},this.viewQueryOverride,{},t)},onSearchInput:function(t){this.setViewQuery({q:t})},saveSelection:function(t){var e=t[t.length-1];this.image=e,this.$emit("input",{id:e.id})},removeFile:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.value,t.next=3,this.$api.deleteItem("directus_files",e.id);case 3:this.$notify({title:this.$t("item_deleted"),color:"green",iconMain:"check"}),this.image=null,this.$emit("input",null);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},v=h,y=(i("d316"),i("2877")),m=Object(y["a"])(v,n,r,!1,null,"08232ded",null);e["default"]=m.exports},fe76:function(t,e,i){"use strict";i.d(e,"a",function(){return n});i("f559");function n(t){return"application/pdf"===t?"picture_as_pdf":t.startsWith("application")?"insert_drive_file":t.startsWith("image")?"crop_original":t.startsWith("video")?"videocam":t.startsWith("code")?"code":t.startsWith("audio")?"audiotrack":"save"}}}]);
//# sourceMappingURL=chunk-5d15ac4c.635f8b1b.js.map